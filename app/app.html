<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Schelling's Spatial Segregation Model</title>

  <link href="./stylesheets/main.css" rel="stylesheet" type="text/css">

  <script src="vendor/electron_boilerplate/env_config.js"></script>
  <script src="vendor/electron_boilerplate/context_menu.js"></script>
  <script src="vendor/electron_boilerplate/external_links.js"></script>

  <script src="node_modules/dat.gui/build/dat.gui.min.js"></script>
  <script src="app.js"></script>
</head>
<body>
  <div id="content" class="section">
    <h1>Segregation Model</h1>
    <div id="controls">
      <table>
        <tr>
          <td>
            <label for="tolerance">Intolerance</label>
          </td>
          <td >
            <input type="range" id="tolerance" min="0" max="1" step="0.01" value="0.3" />
          </td>
          <td>
            <output for="tolerance" class="inputReadout" id="tolerance-readout" />
          </td>
        </tr>
        <tr>
          <td>
            <label for="fill">Fill factor</label>
          </td>
          <td >
            <input type="range" id="fill" min="0" max="1" step="0.01" value="0.95" />
          </td>
          <td>
            <output for="fill" class="inputReadout" id="fill-readout" />
          </td>
        </tr>
        <tr>
          <td>
            <label for="size">Grid size</label>
          </td>
          <td >
            <input type="range" id="size" min="2" max="40" step="1" value="30" />
          </td>
          <td>
            <output for="size" class="inputReadout" id="size-readout" />
          </td>
        </tr>
        <tr>
          <td>
            <label for="balance">Balance</label>
          </td>
          <td>
            <input type="range" id="balance" min="0" max="1" step="0.01" value="0.5" />
          </td>
          <td>
            <output for="balance" class="inputReadout" id="balance-readout" />
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <button id="run-button">Run Model</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="board">
      <!-- board spaces will be populated here -->
      <svg></svg>
    </div>

    <div id="statistics">
      <div>
        <span id="percentAlikeChart"><svg></svg></span>
        <span id="percentAlikeReadout" class="readout clearme"></span>
      </div>
      <div>
        <span id="percentUnhappyChart"><svg></svg></span>
        <span id="percentUnhappyReadout" class="readout"></span>
      </div>
    </div>

    <div class="clear"></div>

    <div id="about">
     <p>
      This is an implementation
      of <a href="https://class.coursera.org/modelthinking/lecture/16">Schelling's
      spatial segregation model</a>. Schelling's model is agent-based; the
      agents represent two groups choosing residential locations. Each agent decides
      whether it is happy or unhappy in a neighborhood based on
      whether its neighbors are like it or not.</p>

      <p>
      <strong>Intolerance</strong> is a percentage of un-like neighbors above which the agent will become unhappy. For
      instance, if the intolerance is 25% and 2 out of 8 neighbors are
      like the agent, the agent will be happy. However, if the
      intolerance is 35%, the agent will not be happy and will move.
      Dots with red borders are unhappy.
     </p>

     <p>
       What is interesting about the model is that, even with a
       relatively low threshold, say 30%, extreme segregation
       results. Thus, fairly tolerant agents end up in segregated
       neighborhoods despite a tolerance for diversity.
     </p>

     <p>
       <strong>Fill</strong> factor
       determines what percentage of grid cells are occupied; for
       instance, a 95% fill factor leaves 5% of the cells vacant. The
       grid size simply determines how large the simulation grid
       is. The balance slider determines the balance between members
       of one group and members of another; if set to 50% there will
       be the same number of group1 and group2 agents.
     </p>

      <p>
      The model is initialized by placing the cells randomly on the
      board. <strong>Grid size</strong> sets the number of spaces and <strong>balance</strong> sets the ratio between group populations.</p>

     <p>
       The numbers on the right show the mean percentage of like
       neighbors and the percentage of unhappy cells. The mean
       percentage of like neighbors is the arithmetic mean of the
       percentages of like neighbors to total neighbors for each
       cell. More segregated layouts have higher numbers. The
       percentage of unhappy cells is the percentage of the cells that
       are currently unhappy. The graphs show the progression of these
       statistics over the course of the model run.
     </p>

     <p>
       The model is initialized by placing the cells randomly on the
       board. On each step of the model, a randomly selected unhappy
       cell is moved to a randomly selected vacant cell. Schelling's book <i>Micromotives and Macrobehavior</i> contains a good description of the model's
       operation in general as well as its behavior under specific
       circumstances, on pages 147&ndash;155 (in the 1978 paperback,
       anyhow). The interface is based on <a href="https://github.com/mattwigway/segregation.js">Matthew Wigginton Conway's Segregation</a>
       which is based on <a href="http://ccl.northwestern.edu/netlogo/models/Segregation">NetLogo
       Segregation model</a>, and the choice of a random vacant cell
       as the destination of each move was inspired
       by <a href="http://web.mit.edu/rajsingh/www/lab/alife/schelling.html">Raj
       Singh's implementation.</a> Edge effects are corrected by
       treating the space as a torus; the top row is considered
       adjacent to the bottom row and the rightmost column is
       considered adjacent to the leftmost column.
     </p>
    </div>
  </div>
</body>
</html>
